# Bulletin_board_backend

sign_in_email:
1. Авторизованный пользователь -> В ответе статус 400 и сообщение о том, что уже авторизован.
2. Неавторизованный пользователь в первый раз (без email в БД) -> В ответе статус 201. В сессии ключ "email". Создаем в БД пользователя. Отправляем код на почту.
3. Неавторизованный пользователь в очередной раз (с email в БД) -> В ответе статус 200. В сессии ключ "email". Отправляем код на почту.
4. Забаненный пользователь -> В ответе код 403, оставшееся время бана "ban_time" и сообщение о том, что пользователь забанен.


confirm_code:
1. Авторизованный пользователь -> В ответе статус 400 и сообщение о том, что уже авторизован.
2. Неавторизованный пользователь без email в БД -> В ответе статус 404 и сообщение о том, что пользователь не найден.
3. Неавторизованный пользователь без одноразового кода в БД -> В ответе статус 404 и сообщение о том, что код не найден.
4. Забаненный пользователь -> В ответе код 403, время до снятия бана "ban_time" и сообщение о том, что пользователь забанен.
5. Пользователь ввел код с истекшим сроком годности, количество повторных отправок кода меньше допустимого значения -> В ответе код 400 и сообщение о том, что время ожидания истекло. Повторная отправка кода на email.
6. Пользователь ввел код с истекшим сроком годности, количество повторных отправок кода больше допустимого значения -> В ответе код 403 и сообщение о том, что слишком много запросов на отправку кода и пользователь забанен на 24 часа. Бан пользователя.
7. Пользователь ввел правильный код, пользователь зашел в первый раз -> В ответе статус 200 и поля id, email пользователя. Сброс всех попыток. 
8. Пользователь ввел правильный код, пользователь зашел в очередной раз -> В ответе статус 200 и поля id, email пользователя. Сброс всех попыток. Логиним пользователя.
9. Пользователь ввел неправильный код, количество попыток ввода кода меньше допустимого значения -> В ответе статус 400, количество оставшихся попыток ввода кода "remaining_attempts" и сообщение о том, что пользователь неправильно ввел код (количество раз).
10. Пользователь ввел неправильный код, количество попыток ввода кода больше допустимого значения -> В ответе статус 403, количество оставшихся попыток ввода кода "remaining_attempts" и сообщение о том, что пользователь неправильно ввел код (количество раз) и пользователь забанен на 24 часа. Бан пользователя.


sign_up_profile:
1. Авторизованный пользователь -> В ответе статус 400 и сообщение о том, что уже авторизован.
2. Неавторизованный пользователь без email в БД -> В ответе статус 404 и сообщение о том, что пользователь не найден.
3. Забаненный пользователь -> В ответе код 403, оставшееся время бана "ban_time" и сообщение о том, что пользователь забанен.
4. Пользователь ввел валидные данные -> В ответе статус 200 и поля id, name, phone_number пользователя. Создаем в БД профиль с номером телефона и именем. Логиним пользователя.
